在编写nginx配置中，正确的配置location指令是相当重要的。笔者在一次问题的排查中仔细研究了下这个指令的规则和使用方法，在这里和大家分享一下，如有不正确的地方还望指正。

## 指令语法：

location [ 限定符 ] 规则uri { 指令集 }

在一个请求的处理流程中，nginx会启动一个location的查找过程，在这个过程中nginx会根据一定的规则用请求的request_uri有选择的去匹配这些定义好的规则uri，之后会找到要应用的唯一的location，并应用这个location定义的指令集中的指令。

这里面最关键的地方，就是location的查找过程是如何进行的。要明白这个过程，首先需要知道规则uri是如何定义的。